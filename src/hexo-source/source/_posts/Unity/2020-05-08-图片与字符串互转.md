---
title: "Unity å›¾ç‰‡ä¸ Base64 äº’è½¬ï¼šèµ„æºåµŒå…¥ä¸ç¼–ç è½¬æ¢å®æˆ˜"
date: 2020/05/08
categories: [æŠ€æœ¯æ–‡ç« , Unityå¼€å‘]
tags: [Unity, C#, Base64, å›¾ç‰‡ç¼–ç , èµ„æºç®¡ç†, Texture2D]
image: /images/unity-image-base64-conversion-banner.jpg
---

# ğŸ–¼ï¸ Unity å›¾ç‰‡ä¸ Base64 äº’è½¬ï¼šèµ„æºåµŒå…¥ä¸ç¼–ç è½¬æ¢å®æˆ˜

> ğŸ’¡ **ä¸ºä»€ä¹ˆéœ€è¦å›¾ç‰‡ä¸å­—ç¬¦ä¸²äº’è½¬ï¼Ÿ**
> - å¦‚ä½•å°†å›¾ç‰‡åµŒå…¥ä»£ç ï¼Œé¿å…èµ„æºåŠ è½½é—®é¢˜ï¼Ÿ
> - å¦‚ä½•é€šè¿‡ç½‘ç»œä¼ è¾“å›¾ç‰‡æ•°æ®ï¼Ÿ
> - Base64 ç¼–ç åœ¨ Unity ä¸­å¦‚ä½•ä½¿ç”¨ï¼Ÿ
> - å¦‚ä½•æ‰¹é‡å¤„ç†å›¾ç‰‡èµ„æºï¼Ÿ
>
> **å®æˆ˜æ•™ç¨‹**ï¼æŒæ¡å›¾ç‰‡ä¸ Base64 å­—ç¬¦ä¸²äº’è½¬æŠ€æœ¯ï¼Œçµæ´»å¤„ç†å›¾ç‰‡èµ„æºï¼

[MenuItem(â€œtest/testâ€)]
    public static void ShowImage()
    {
        string headerPath = Application.dataPath + â€œ/zhuzizheng/Images/â€œ;
        List fileContentsList = new List();
        var files = Directory.GetFiles(headerPath, â€œ*.pngâ€);
        foreach (var fileName in files)
        {
            Debug.Log(fileName);
            fileContentsList.Add(string.Format(â€œpublic static Texture2D {0}Image()â€, fileName.Replace(headerPath,â€â€).Replace(â€œ.pngâ€,â€â€)));
            fileContentsList.Add(â€œ{â€œ);
            fileContentsList.Add(â€œ    string base64PNG =â€);
            fileContentsList.Add(â€œ    "â€œ + Texture2dToBase64(fileName) + â€œ";â€ );
            fileContentsList.Add(â€œ    return LoadBase64String(base64PNG);â€ );
            fileContentsList.Add(â€œ}
â€ );
        }
        File.AppendAllLines(Application.dataPath + â€œImage.txtâ€, fileContentsList);
        Debug.Log(Application.dataPath + â€œImage.txtâ€);
    }
```
//å›¾ç‰‡è½¬base64string
public static string Texture2dToBase64(string texture2d_path)
{
    //å°†å›¾ç‰‡æ–‡ä»¶è½¬ä¸ºæµæ–‡ä»¶
    FileStream fs = new System.IO.FileStream(texture2d_path, System.IO.FileMode.Open, System.IO.FileAccess.Read);
    byte[]     thebytes = new byte[fs.Length];

    fs.Read(thebytes, 0, (int)fs.Length);
    //è½¬ä¸ºbase64string
    string base64_texture2d = Convert.ToBase64String(thebytes);
    return base64_texture2d;
}  
//å­—ç¬¦ä¸²è½¬å›¾ç‰‡
private static Texture2D LoadBase64String(string base64PNG)
{
    Texture2D pic  = new Texture2D(1024, 1024);
    byte[]    data = System.Convert.FromBase64String(base64PNG);
    pic.LoadImage(data);
    byte[] bytes = pic.EncodeToPNG();
    return pic;
}
```
      
        è½¬è½½è¯·æ³¨æ˜æ¥æºï¼Œæ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯ï¼Œæ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåŒºè¯„è®ºï¼Œä¹Ÿå¯ä»¥é‚®ä»¶è‡³ 1487842110@qq.com
