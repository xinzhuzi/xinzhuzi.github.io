---
title: "Unity UI ç³»åˆ—ç¬¬äºŒç« ï¼šCanvas æ¸²æŸ“æ¨¡å¼ä¸æ€§èƒ½ä¼˜åŒ–ç­–ç•¥"
date: 2020/05/08
categories: [æŠ€æœ¯æ–‡ç« , Unityå¼€å‘]
tags: [Unity, UGUI, Canvas, æ¸²æŸ“æ¨¡å¼, æ€§èƒ½ä¼˜åŒ–]
image: /images/unity-ui-series-chapter2-banner.jpg
---

# ğŸ¨ Unity UI ç³»åˆ—ç¬¬äºŒç« ï¼šCanvas æ¸²æŸ“æ¨¡å¼ä¸æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

> ğŸ’¡ **Canvas çš„æ ¸å¿ƒ**ï¼š
> - Screenã€Cameraã€World ä¸‰ç§æ¸²æŸ“æ¨¡å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
> - ä»€ä¹ˆæ—¶å€™è¯¥ç”¨å“ªç§ Canvas æ¨¡å¼ï¼Ÿ
> - å¦‚ä½•ä¼˜åŒ– Canvas çš„é‡å»ºå’Œæ€§èƒ½ï¼Ÿ
> - å¤š Canvas çš„æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ
>
> **ç³»åˆ—ç¬¬äºŒç« **ï¼Œæ·±å…¥è®²è§£ Canvas æ¸²æŸ“æ¨¡å¼å’Œæ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼

Image

- ç©ºçš„ Imageä¼šé€ æˆä¸€ä¸ª DC,å¹¶ä¸”ä¼šæ‰“æ–­åˆæ‰¹.åˆ›å»ºçš„æ—¶å€™å°†Image çš„ SourceImage ç»™èµ‹å€¼,å¹¶ä¸”ä¸è®¾ç½® RayCastTarget

- é¢œè‰²æ¸å˜å’Œå¯ä»¥ç”¨ä¸€ä¸ªæ–°çš„materialæ§åˆ¶ï¼Œæœ¬è´¨ä¸Šæ˜¯æ›´æ”¹Tintå±æ€§ï¼Œè¿™æ ·æ—¢èƒ½æ»¡è¶³é¢œè‰²æ¸å˜ï¼Œåˆèƒ½é¿å…ç½‘æ ¼é¢‘ç¹é‡å»º

    public Color color = Color.white;//ä½¿ç”¨åŠ¨ç”»ä¿®æ”¹æ­¤å±æ€§,è€—æ—¶ç›¸å¯¹äºä½¿ç”¨ç›´æ¥ä¿®æ”¹Image.Colorå±æ€§éå¸¸å°‘
    public Image image = null;

    void Start()
    {
        image = GetComponent<Image>();
        image.material = Instantiate(image.material) as Material;
    }

    void LateUpdate()
    {
        image.material.SetColor("_Color", color);
    }

```

- ç›´æ¥ä»åˆ›å»ºçš„åœ°æ–¹å°† Text/Image/RawImage è¿™ 3 ç§ç±»å‹ä¿®æ”¹,è®¾ç½® raycastTargetå±æ€§ä¸º false,å¯ä»¥é™ä½æ€§èƒ½.

Empty4Raycast.cs é…åˆ button .ä½¿ç”¨çš„æ­¤è„šæœ¬å¯ä»¥åœ¨æœ‰æ•ˆæ¥å—ç‚¹å‡»äº‹ä»¶çš„æƒ…å†µä¸‹ï¼Œä¸å¢åŠ DrawCallå’Œæ‰“æ–­åˆæ‰¹,
åªè¦ç‚¹å‡»åŒºåŸŸï¼Œä¸è¦æ˜¾ç¤ºå†…å®¹çš„ã€‚å¯ä»¥æŠŠç©ºç™½é€æ˜Imageæ›¿æ¢æˆqiankanglaiæä¾›çš„Empty4Raycast.
[https://blog.uwa4d.com/archives/fillrate.html](https://blog.uwa4d.com/archives/fillrate.html)

Imageå åŠ å±‚æ•°è¶Šå¤š,overdraw æ˜¾ç¤ºçš„é¢œè‰²è¶Šçº¢,åŒä¸€ä¸ªåƒç´ åœ¨åŒä¸€å¸§ç»˜åˆ¶çš„æ¬¡æ•°è¶Šå¤š.
è¿™æ—¶å€™å¦‚æœ Imageæ˜¯Slicedç±»å‹ï¼Œä¸­é—´åŒºåŸŸæ˜¯å®Œå…¨é€æ˜(ç›¸å½“äº9å®«æ ¼çš„è¾¹æ¡†)ï¼Œé‚£ä¹ˆå°½é‡å°† Fill Centerçš„å‹¾å»æ‰,
å‹¾é€‰æ‰å³å‡å°‘ Image çš„æ˜¾ç¤ºéƒ¨ä½.ä¼šç¼“è§£overdraw.

å¦‚æœä¸€å¼ å›¾ç‰‡æœ‰å¾ˆå¤šåŒºåŸŸæ˜¯ç©ºç™½çš„,é»˜è®¤æƒ…å†µä¸‹fill rateæ˜¯çŸ©å½¢åŒºåŸŸã€‚PolygonImageã€‚å¯ä»¥å‡å°‘é€æ˜åŒºåŸŸçš„fillã€‚
[https://blog.uwa4d.com/archives/fillrate.html](https://blog.uwa4d.com/archives/fillrate.html)
å³å‡å°‘ Image çš„é€æ˜éƒ¨ä½.ä¼šç¼“è§£overdraw.ä½†æ˜¯å¯èƒ½ä¼šä½¿é¡¶ç‚¹/ä¸‰è§’å½¢å˜å¤š.
å†…å­˜æ˜¯è¶³å¤Ÿçš„,overdraw çš„å±å®³æ¯”è¾ƒå¤§ä¸€äº›,è¯¥ç”¨å°±ç”¨.

Image åŸç”Ÿè‡ªå¸¦çš„å›¾ç‰‡æ˜¯ä½¿ç”¨ Unity æœ¬èº«è‡ªå¸¦çš„å›¾ç‰‡,å¼€å‘è¿‡ç¨‹ä¸­ä¸èƒ½ä½¿ç”¨Unity æœ¬èº«è‡ªå¸¦çš„å›¾ç‰‡,å¿…é¡»ç”±æˆ‘ä»¬æœ¬èº«è®¾è®¡çš„å›¾ç‰‡æ‰è¡Œ.
åœ¨æºç  MenuOptions.cs çš„ GetStandardResources æ–¹æ³•ä¸­,å·²å°†å…¶å±è”½.

ä¸€å¼ å›¾ç‰‡æœ‰å¾ˆå¤šç©ºç™½,ä½¿ç”¨ Use Sprite Mesh ä¼šç¼“è§£overdraw,ä½†æ˜¯å¢åŠ  Mesh çš„çº¿æ¡,åœ¨ Scene çª—å£ä¸­,ä½¿ç”¨ Wireframe æŸ¥çœ‹.
æ­¤æ–¹å¼å·²ç»å’Œ TexturePacker å·¥å…·æ‰“å‡ºçš„å›¾ç‰‡åŒºåˆ«æ²¡æœ‰å¤ªå¤§äº†.
åœ¨ä¸€å¼ å›¾ä¸Šçš„é€æ˜é€šé“å¾ˆå¤šçš„æƒ…å†µä¸‹çš„åŒºåˆ«æ˜¯:
Unity è‡ªå¸¦å·¥å…·æ‰“å‡ºçš„é¡¶ç‚¹æ•°å°‘,overdraw é«˜ä¸€ç‚¹,TexturePackeræ‰“å‡ºçš„é¡¶ç‚¹æ•°å¤š,overdraw å°‘ä¸€ç‚¹.
å¯ä»¥ä½¿ç”¨TexturePackerå¯¼å‡ºå•å¼ å›¾ç‰‡,ç„¶åä½¿ç”¨ SpriteAtlas ç»„åˆæˆå›¾é›†,å†ä½¿ç”¨ Use Sprite Mesh å³å¯,
æ­¤æ–¹å¼ä¸ç›´æ¥ä½¿ç”¨TexturePackeræ’ä»¶æ•ˆæœä¸€è‡´.

      
        è½¬è½½è¯·æ³¨æ˜æ¥æºï¼Œæ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯ï¼Œæ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåŒºè¯„è®ºï¼Œä¹Ÿå¯ä»¥é‚®ä»¶è‡³ 1487842110@qq.com
