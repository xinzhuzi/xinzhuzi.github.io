---
title: "Unity èµ„æºä¼˜åŒ–å®Œå…¨æ‰‹å†Œï¼šä»åŠ è½½æœºåˆ¶åˆ°å®æˆ˜è§„èŒƒçš„å®Œæ•´æŒ‡å—"
date: 2020/05/08
categories: [æŠ€æœ¯æ–‡ç« , Unityå¼€å‘]
tags: [Unity, èµ„æºä¼˜åŒ–, åŠ è½½ä¼˜åŒ–, AssetBundle, çº¹ç†ä¼˜åŒ–, å†…å­˜ç®¡ç†]
image: /images/unity-resource-optimization-banner.jpg
---

# ğŸ“¦ Unity èµ„æºä¼˜åŒ–å®Œå…¨æ‰‹å†Œï¼šä»åŠ è½½æœºåˆ¶åˆ°å®æˆ˜è§„èŒƒçš„å®Œæ•´æŒ‡å—

> ğŸ’¡ **èµ„æºä¼˜åŒ–çš„ä»·å€¼**ï¼š
> - èµ„æºåŠ è½½å¤ªæ…¢ï¼Œç©å®¶ç­‰å¾…æ—¶é—´é•¿ï¼Ÿ
> - åŒ…ä½“å¤ªå¤§ï¼Œä¸‹è½½æµå¤±ç‡é«˜ï¼Ÿ
> - è¿è¡Œæ—¶å†…å­˜å ç”¨è¿‡é«˜ï¼Œç»å¸¸é—ªé€€ï¼Ÿ
> - ä¸ç†è§£èµ„æºåŠ è½½æœºåˆ¶ï¼Œä¼˜åŒ–æ— ä»ä¸‹æ‰‹ï¼Ÿ
>
> **è¿™ç¯‡æ–‡ç« ï¼** å°†æ·±å…¥è§£æ Unity èµ„æºåŠ è½½æœºåˆ¶ï¼Œä»çº¹ç†ã€æ¨¡å‹åˆ°éŸ³é¢‘ï¼Œä» AssetBundle åˆ°å®æˆ˜è§„èŒƒï¼Œå…¨é¢ä¼˜åŒ–èµ„æºç®¡ç†ï¼

---

## ä¸€ã€èµ„æºåŠ è½½æ¨¡å—æ ¸å¿ƒé—®é¢˜

### 1.1 åŠ è½½é˜¶æ®µæµç¨‹å›¾

```
åœºæ™¯åŠ è½½æµç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¼•æ“é˜¶æ®µ                                     â”‚
â”‚  â”œâ”€ EarlyUpdate.UpdatePreloading             â”‚
â”‚  â”œâ”€ Loading.UpdatePreloading                â”‚
â”‚  â””â”€ UpdatePreloading                         â”‚
â”‚                                               â”‚
â”‚  äººå·¥é˜¶æ®µ                                     â”‚
â”‚  â”œâ”€ PreLateUpdate.ScriptRunBehaviourLateUpdateâ”‚
â”‚  â””â”€ LateBehaviorUpdate                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸Šä¸€åœºæ™¯èµ„æºå¸è½½                            â”‚
â”‚  â””â”€ GarbageCollectAssetsProfile             â”‚
â”‚     (Resources.UnloadUnusedAssets)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å½“å‰åœºæ™¯èµ„æºåŠ è½½                            â”‚
â”‚  â”œâ”€ Loading.LoadFileHeaders                 â”‚
â”‚  â”œâ”€ Loading.ReadObject                      â”‚
â”‚  â””â”€ LoadAwakeFromLoad (Mesh/Shader/...)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å½“å‰åœºæ™¯å®ä¾‹åŒ–                              â”‚
â”‚  â””â”€ UnityEngine.SetupCoroutine             â”‚
â”‚     (Instantiate/Active/Deactive)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åŠ è½½åå¤„ç†                                  â”‚
â”‚  â””â”€ GC.Collect / GC.FindLiveObjects         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 çœŸæ­£è€—æ—¶çš„å‡½æ•°

| å‡½æ•° | è¯´æ˜ | è€—æ—¶æ¥æº |
|-----|------|---------|
| **Application.LoadLevelAsync** | å¼‚æ­¥åœºæ™¯åŠ è½½ | å¸è½½ä¸Šä¸€åœºæ™¯ + åŠ è½½æ–°åœºæ™¯ |
| **Loading.UpdatePreloading** | é¢„åŠ è½½å¤„ç† | èµ„æºå¸è½½æ£€æµ‹ |
| **GarbageCollectAssetsProfile** | åƒåœ¾å›æ”¶ | Resources.UnloadUnusedAssets |
| **Loading.LoadFileHeaders** | æ–‡ä»¶å¤´è¯»å– | GameObject/åºåˆ—åŒ–ä¿¡æ¯ |
| **Loading.ReadObject** | èµ„æºè¯»å– | çº¹ç†/ç½‘æ ¼/æè´¨ç­‰ |
| **LoadAwakeFromLoad** | ååŠ è½½å¤„ç† | Mesh/Shader/Shader.Parse |
| **UnityEngine.SetupCoroutine** | åç¨‹è°ƒåº¦ | Instantiate/Active/Deactive |

---

## äºŒã€èµ„æºåŠ è½½åˆç†æ€§æ£€æŸ¥

### 2.1 çº¹ç†èµ„æº

| æ£€æŸ¥é¡¹ | å»ºè®®å€¼ | è¯´æ˜ |
|-------|--------|------|
| **Max Size** | < 1024 | é•¿å®½éœ€ä¸º 2 çš„å¹‚æ¬¡æ–¹ |
| **Format** | å¹³å°æ¨èæ ¼å¼ | Android: ETC2, iOS: PVRTC/ASTC |
| **Read/Write** | å…³é—­ | èŠ‚çœå†…å­˜ |
| **Mipmap** | å…³é—­ï¼ˆUIï¼‰ | é¿å…å†…å­˜æµªè´¹ |
| **Texture Streaming** | æŒ‰éœ€å¼€å¯ | 3D åœºæ™¯çº¹ç† |

### 2.2 ç½‘æ ¼èµ„æº

| æ£€æŸ¥é¡¹ | å»ºè®®å€¼ | è¯´æ˜ |
|-------|--------|------|
| **Mesh Compression** | On | å‡å°‘æ•°æ®é‡ |
| **Read/Write Enabled** | ä¸å‹¾é€‰ | èŠ‚çœå†…å­˜ |
| **Normals** | Unity è®¡ç®— | æŒ‰éœ€ä½¿ç”¨ |
| **Tangents** | å°½é‡å°‘ | ä»…éœ€è¦æ—¶ä½¿ç”¨ |
| **Swap UVs** | ä¸å‹¾é€‰ | å‡å°‘æ•°æ® |

### 2.3 åŠ¨ç”»ç‰‡æ®µ

| æ£€æŸ¥é¡¹ | å»ºè®®å€¼ | è¯´æ˜ |
|-------|--------|------|
| **ç‰‡æ®µæ•°é‡** | æŒ‰éœ€æ‹†åˆ† | é¿å…å•ä¸ªæ–‡ä»¶è¿‡å¤§ |
| **å‹ç¼©æ¨¡å¼** | Optimal | æå‡åŠ è½½æ•ˆç‡ |
| **åŠ¨ç”»æ¨¡å¼** | Humanoid | æ¯” Generic å°å¾ˆå¤š |

### 2.4 éŸ³é¢‘ç‰‡æ®µ

| æ£€æŸ¥é¡¹ | å»ºè®®å€¼ | è¯´æ˜ |
|-------|--------|------|
| **Load Type** | Streaming | èƒŒæ™¯éŸ³ä¹/é•¿æ—¶é—´éŸ³æ•ˆ |
| **Compression Format** | Vorbis/MP3 | å¹³è¡¡å¤§å°å’Œè´¨é‡ |
| **Vorbis Quality** | 50% | è¿›ä¸€æ­¥æ§åˆ¶å¤§å° |
| **Load in Background** | å¼€å¯ | èƒŒæ™¯éŸ³ä¹å¼‚æ­¥åŠ è½½ |
| **Decompressed On Load** | é¢‘ç¹éŸ³æ•ˆ | é™ä½ CPU å¼€é”€ |

### 2.5 ç²’å­ç³»ç»Ÿ

| æ£€æŸ¥é¡¹ | å»ºè®®å€¼ | è¯´æ˜ |
|-------|--------|------|
| **ç²’å­ç³»ç»Ÿæ•°é‡** | æ§åˆ¶æ€»é‡ | é¿å…åŒå±è¿‡å¤š |
| **æè´¨å¤ç”¨** | å…±äº« Material | å‡å°‘å†…å­˜å ç”¨ |

---

## ä¸‰ã€èµ„æºåŠ è½½ API

### 3.1 åŠ è½½ API å¯¹æ¯”

| API | ç±»å‹ | ä½¿ç”¨åœºæ™¯ |
|-----|------|---------|
| **Resources.Load** | åŒæ­¥ | å°èµ„æºå¿«é€ŸåŠ è½½ |
| **Resources.LoadAsync** | å¼‚æ­¥ | å¤§èµ„æºåå°åŠ è½½ |
| **AssetBundle.Load** | åŒæ­¥ | AB åŒ…åŒæ­¥åŠ è½½ |
| **AssetBundle.LoadAsync** | å¼‚æ­¥ | AB åŒ…å¼‚æ­¥åŠ è½½ |

### 3.2 å¼‚æ­¥åŠ è½½ä¼˜åŒ–

```csharp
// âœ… å¼‚æ­¥åŠ è½½æ—¶æé«˜ä¼˜å…ˆçº§
Application.backgroundLoadingPriority = ThreadPriority.High;
// å•å¸§èŠ±è´¹æ—¶é—´æ›´å¤š â†’ åŠ è½½æ›´å¿« â†’ å¸§ç‡å¯èƒ½ä¸‹é™
// ä½†èƒ½æ›´å¿«è¿›å…¥æ¸¸æˆï¼

// âœ… å¼‚æ­¥çº¹ç†ä¸Šä¼ ä¼˜åŒ–
QualitySettings.asyncUploadTimeSlice = 2;      // æ¯å¸§ 2ms ä¸Šä¼ 
QualitySettings.asyncUploadBufferSize = 4;      // 4MB ç¯å½¢ç¼“å†²åŒº

// ğŸ“Œ asyncUploadTimeSlice
// æœ€å°å€¼: 1, æœ€å¤§å€¼: 33
// æ¯å¸§ä¸Šä¼ æ—¶é—´è¶Šå¤šï¼ŒåŠ è½½è¶Šå¿«ï¼Œä½†å¸§ç‡ä¸‹é™

// ğŸ“Œ asyncUploadBufferSize
// æœ€å°å€¼: 2, æœ€å¤§å€¼: 512 (MB)
// è®¾ç½®ä¸ºåœºæ™¯æœ€å¤§çº¹ç†å¤§å°ï¼Œé¿å…é‡æ–°è°ƒæ•´
```

---

## å››ã€Prefab åŠ è½½æœºåˆ¶

### 4.1 UI Prefab åŠ è½½æµç¨‹

```
Prefab åŠ è½½æ­¥éª¤:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. åŠ è½½ Mesh å¹¶ä¼ è¾“åˆ° GPU          â”‚
â”‚     (å¼‚æ­¥ä¸²è¡Œ)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2. åŠ è½½ Texture å¹¶ä¼ è¾“åˆ° GPU       â”‚
â”‚     (å¼‚æ­¥ä¸²è¡Œ)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3. åŠ è½½ Shader & Material          â”‚
â”‚     (å¼‚æ­¥ä¸²è¡Œ + ä¸»çº¿ç¨‹è§£æ)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  4. åŠ è½½ Object & Component         â”‚
â”‚     (å¼‚æ­¥ä¸²è¡Œ)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  5. åŠ è½½ AnimationClip             â”‚
â”‚     (å¼‚æ­¥ä¸²è¡Œ)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  6. åŠ è½½ Audio èµ„æº                 â”‚
â”‚     (å¼‚æ­¥ä¸²è¡Œ, Streaming æœ€å¿«)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 å¼‚æ­¥åŠ è½½ä¼˜åŠ¿

| èµ„æºç±»å‹ | å¼‚æ­¥åŠ è½½ | ä¸»çº¿ç¨‹å¤„ç† |
|---------|---------|-----------|
| **Mesh** | âœ… å¯å¼‚æ­¥ | - |
| **Texture** | âœ… å¯å¼‚æ­¥ | - |
| **Shader** | âœ… å¯å¼‚æ­¥ | âš ï¸ è§£æéœ€ä¸»çº¿ç¨‹ |
| **Animation** | âœ… å¯å¼‚æ­¥ | - |
| **Audio** | âœ… å¯å¼‚æ­¥ | - |

> ğŸ’¡ **æç¤º**ï¼šå¤§é‡èµ„æºçš„å¼‚æ­¥åŠ è½½å¯åœ¨å­çº¿ç¨‹ä¸­è¿›è¡Œï¼Œä¸»çº¿ç¨‹ä¸»è¦è´Ÿè´£ AwakeFromLoad å’Œ Shader è§£æã€‚

---

## äº”ã€åŠ è½½ä¼˜åŒ–ç­–ç•¥

### 5.1 Async Upload Pipeline

```
AUP å·¥ä½œæµç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  A. åŠ è½½çº¿ç¨‹                         â”‚
â”‚     å¼‚æ­¥åŠ è½½ Texture/Mesh èµ„æº       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  B. æ¸²æŸ“çº¿ç¨‹                         â”‚
â”‚     ç›´æ¥ä¼ è¾“åˆ° GPU                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  C. ä¸Šä¼ å®Œæˆ                         â”‚
â”‚     AsyncUploadBuffer â†’ æ¸²æŸ“çº¿ç¨‹      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 AUP é…ç½®ä¼˜åŒ–

```csharp
// âŒ é»˜è®¤é…ç½® - è¾ƒæ…¢
QualitySettings.asyncUploadBufferSize = 4;    // æ¯æ¬¡è¯»å– 4MB
QualitySettings.asyncUploadTimeSlice = 2;     // æ¯å¸§ä¸Šä¼  2ms

// âœ… ä¼˜åŒ–é…ç½® - æ›´å¿«
QualitySettings.asyncUploadBufferSize = 16;   // æ¯æ¬¡è¯»å– 16MB
QualitySettings.asyncUploadTimeSlice = 8;     // æ¯å¸§ä¸Šä¼  8ms

// ğŸ“Œ ä¼˜åŒ–è¯´æ˜ï¼š
// â€¢ Buffer å¢å¤§ â†’ å­çº¿ç¨‹è¯»å–æ›´å¤š â†’ åŠ è½½æ›´å¿«
// â€¢ TimeSlice å¢å¤§ â†’ æ¸²æŸ“çº¿ç¨‹ä¸Šä¼ æ›´å¤š â†’ å¯èƒ½å¤šå¼€çº¿ç¨‹
// â€¢ AUP è®©å†…å­˜å ç”¨æ›´å¯æ§ï¼Œå¢åŠ æ’å®š Upload Buffer
// â€¢ TimeSlice è®¾ç½®è¿‡å¤§å¯èƒ½äº§ç”Ÿå¡é¡¿
```

### 5.3 ä¸»çº¿ç¨‹èµ„æºå‹ç¼©

| ä¼˜åŒ–é¡¹ | è¯´æ˜ |
|-------|------|
| **AwakeFromLoad** | ä¸»çº¿ç¨‹å°† Texture ä¼ åˆ° GPU |
| **Shader.Parse** | ä¸»çº¿ç¨‹è§£æ Shader |
| **BackgroundLoadingPriority** | è®¾ä¸º High åŠ å¿«åŠ è½½ |
| **å¤šçº¿ç¨‹æ¸²æŸ“** | åˆ†ç¦»æ¸²æŸ“å‹åŠ› |
| **Shader é¡ºåº** | ä¼˜å…ˆåŠ è½½ Shader |

---

## å…­ã€èµ„æºå†…å­˜ä¼˜åŒ–

### 6.1 çº¹ç†å†…å­˜é—®é¢˜

| é—®é¢˜ | æ£€æµ‹æ–¹å‘ | è§£å†³æ–¹æ¡ˆ |
|-----|---------|---------|
| **æœªæ¸²æŸ“çº¹ç†** | å†…å­˜ä¸­æœ‰ä½†æœªä½¿ç”¨ | æ£€æŸ¥ UI å›¾é›†ã€æŠ€èƒ½ç‰¹æ•ˆ |
| **åˆ†è¾¨ç‡è¿‡å¤§** | è¶…è¿‡æ˜¾ç¤ºéœ€æ±‚ | é™ä½åˆ†è¾¨ç‡ |
| **Mimap æµªè´¹** | UI çº¹ç†å¼€å¯ Mipmap | å…³é—­ UI çº¹ç† Mipmap |

### 6.2 Texture Streaming

```
Texture Streaming åŸç†:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Memory Budget å……è¶³æ—¶               â”‚
â”‚  â€¢ Scene Texture: æ»¡ Mipmap åŠ è½½    â”‚
â”‚  â€¢ åŠ¨æ€ GO Texture: åŒ¹é… Mipmap     â”‚
â”‚  â€¢ æ¸²æŸ“æ—¶æŒ‰è·ç¦»å’Œ Budget è°ƒæ•´        â”‚
â”‚                                     â”‚
â”‚  Memory Budget ä¸è¶³æ—¶               â”‚
â”‚  â€¢ Scene Texture: æœ€ä½é…åŠ è½½        â”‚
â”‚  â€¢ å·²åŠ è½½: ç§»é™¤é«˜ Level Mipmap      â”‚
â”‚  â€¢ åŠ¨æ€ GO Texture: æœ€ä½é… Mipmap   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Texture Streaming é…ç½®

| é…ç½®é¡¹ | å»ºè®®å€¼ | è¯´æ˜ |
|-------|--------|------|
| **Memory Budget** | æ ¹æ®é¡¹ç›®è®¾å®š | è¶³å¤Ÿæ—¶æ»¡è´¨é‡ï¼Œä¸è¶³æ—¶é™çº§ |
| **Max Level Reduction** | 1 æˆ– 2 | åŠ è½½ç¬¬å‡ çº§ Mipmap |
| **streamingMipmapsActive** | true (Mobile) | ç§»åŠ¨ç«¯å¿…é¡»å¼€å¯ |

### 6.3 ç½‘æ ¼ä¸éŸ³é¢‘ä¼˜åŒ–

| èµ„æºç±»å‹ | ä¼˜åŒ–å»ºè®® |
|---------|---------|
| **ç½‘æ ¼** | å…³æ³¨é¡¶ç‚¹æ¸²æŸ“å¯†åº¦ |
| **éŸ³é¢‘** | Streaming é€‚åˆèƒŒæ™¯éŸ³ä¹ï¼ŒDecompress é€‚åˆé¢‘ç¹éŸ³æ•ˆ |

---

## ä¸ƒã€AssetBundle ä¼˜åŒ–

### 7.1 AB åŒ…ç­–ç•¥

| ç­–ç•¥ | è¯´æ˜ |
|-----|------|
| **å‹ç¼©æ ¼å¼** | å…¨éƒ¨é‡‡ç”¨ LZ4 å‹ç¼© |
| **æœ¬åœ°åŠ è½½** | ä½¿ç”¨ LoadFromFile(Async) |
| **è‡ªå‹ç¼©** | ä½¿ç”¨ Gzip + LoadFromFile(Async) |
| **åŠ è½½æ–¹å¼** | AssetBundle.LoadAll ä¼˜äºé€ä¸ª Load |

### 7.2 AB åŒ…åˆ†ç»„

| åˆ†ç»„ç­–ç•¥ | ç¤ºä¾‹ |
|---------|------|
| **å°è€Œç¢åŒç±»èµ„æº** | Shaderã€ParticleSystem |
| **åŠŸèƒ½æ¨¡å—** | UIã€è§’è‰²ã€åœºæ™¯ |
| **ä¾èµ–èµ„æº** | å…±äº«çº¹ç†ã€æè´¨ |

### 7.3 AB åŒ…åŠ è½½é¡ºåº

```csharp
// âŒ é”™è¯¯é¡ºåº
// AB a1 (ä¾èµ– a0) â†’ åŠ è½½ a1 â†’ Instantiate a1 â†’ AB a0
// å¯¼è‡´ a0 èµ„æºå‡ºç°åœ¨é”™è¯¯ä½ç½®

// âœ… æ­£ç¡®é¡ºåº
// AB a0 â†’ AB a1 (ä¾èµ– a0) â†’ åŠ è½½ a1 â†’ Instantiate a1
```

---

## å…«ã€Mono å †å†…å­˜ä¼˜åŒ–

### 8.1 å †å†…å­˜åˆ†é…æ¥æº

| æ¥æº | æ£€æµ‹æ–¹æ³• | ä¼˜åŒ–æ–¹æ¡ˆ |
|-----|---------|---------|
| **å­çº¿ç¨‹ Mono åˆ†é…** | æ£€æµ‹æœåŠ¡å™¨äº¤äº’ | é¿å…å­çº¿ç¨‹å¤§é‡åˆ†é… |
| **Lua å†…å­˜** | æ£€æµ‹ Destroyed æ€»æ•° | Lua å†…å­˜ç®¡ç† |
| **Instantiate é¢‘ç‡** | 10K å¸§å†…æœ‰å¤§çš„æµ®åŠ¨ | ä½¿ç”¨å¯¹è±¡æ±  |
| **Active/Deactive é¢‘ç‡** | æ£€æµ‹è°ƒç”¨é¢‘ç‡ | å¤æ‚ç•Œé¢é¿å…é¢‘ç¹ä½¿ç”¨ |

### 8.2 Active/Deactive ä¼˜åŒ–

| åœºæ™¯ | å»ºè®® |
|-----|------|
| **ç®€å• UI** | å¯é¢‘ç¹ Active/Deactive |
| **å¤æ‚ UI** | ä½¿ç”¨å¯¹è±¡æ± æˆ– CanvasGroup |
| **å¸¦åŠ¨ç”»çš„ GameObject** | é¿å…é¢‘ç¹ Active/Deactive |
| **NGUI/UGUI** | æ³¨æ„ Panel/Canvas é‡å»º |

---

## ä¹ã€èµ„æºè§„èŒƒè¯¦è§£

### 9.1 Animation åŠ¨ç”»

```
åŠ¨ç”»ä¼˜åŒ–æ£€æŸ¥:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… åŠ¨ç”»æ›²çº¿ç²¾åº¦ < 5                â”‚
â”‚  âœ… ç¦ç”¨ç¼©æ”¾æ›²çº¿                    â”‚
â”‚  âœ… å‡å°‘åŠ¨ç”»å ç”¨å†…å­˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| æ£€æŸ¥é¡¹ | è§„èŒƒ | æ£€æµ‹æ–¹æ³• |
|-------|------|---------|
| **æ›²çº¿ç²¾åº¦** | < 5 ä½å°æ•° | æ£€æŸ¥ .anim æ–‡ä»¶ m_Curve |
| **ç¼©æ”¾æ›²çº¿** | ç¦ç”¨ | æ£€æŸ¥ m_Scale curve |

### 9.2 AnimationController

| æ£€æŸ¥é¡¹ | è§„èŒƒ | è¯´æ˜ |
|-------|------|------|
| **åŠ¨ç”»å‰ªè¾‘æ•°é‡** | < 2 | è¿‡å¤šä¼šé€ æˆåˆå§‹åŒ–è€—æ—¶ |

### 9.3 FBX æ¨¡å‹

| æ£€æŸ¥é¡¹ | è§„èŒƒ | è¯´æ˜ |
|-------|------|------|
| **è¯»/å†™æ ‡å¿—** | ç¦ç”¨ | å¼€å¯ä¼šå¯¼è‡´åŒå€å†…å­˜ |
| **åŠ¨ç”»å‹ç¼©** | Optimal | æé«˜åŠ è½½æ•ˆç‡ |
| **Optimize Mesh** | å¯ç”¨ | å‡å°‘æ¸¸æˆåŒ…å¤§å° |
| **é¡¶ç‚¹æ•°é‡** | < 500 | æ£€æŸ¥æ˜¯å¦å¿…è¦ |

### 9.4 Prefab é¢„åˆ¶ä»¶

| æ£€æŸ¥é¡¹ | è§„èŒƒ | è¯´æ˜ |
|-------|------|------|
| **Max Particles** | < 30 | æ¸²æŸ“ Mesh çš„ç²’å­ç³»ç»Ÿ |
| **Emission Rate** | < 5 | æ¸²æŸ“ Mesh æ—¶ä¸å®œè¿‡é«˜ |
| **Skinned Motion Vectors** | ç¦ç”¨ | åŒå€å†…å­˜å ç”¨ |
| **Mesh Read/Write** | å…³é—­ | èŠ‚çœå†…å­˜ |

### 9.5 Scene åœºæ™¯

| æ£€æŸ¥é¡¹ | è§„èŒƒ | è¯´æ˜ |
|-------|------|------|
| **GameObject Tag** | å¿…é¡»æ·»åŠ  | æ‰€æœ‰ GameObject éƒ½åº”æœ‰ tag |
| **Audio Listener** | ä»… 1 ä¸ª | ä¸åº”åŒ…å«å¤šä¸ª |
| **Mesh Collider** | è°¨æ…ä½¿ç”¨ | æ¶ˆè€—å¤§é‡è®¡ç®—èµ„æº |
| **Fog (ç§»åŠ¨ç«¯)** | å…³é—­ | èŠ‚çœè®¡ç®—èµ„æº |
| **Shadow Resolution** | Use Quality Settings | ä¸é¡¹ç›®è®¾ç½®ä¸€è‡´ |
| **Rigidbody (é™æ€)** | ç¦ç”¨ | é™æ€ç‰©ä½“ä¸éœ€è¦ |
| **Canvas ç»„ä»¶æ•°é‡** | æ§åˆ¶ | è¿‡å¤šå½±å“æ€§èƒ½ |
| **å±å¹•å¤– UI** | åˆ é™¤ | ä»æ¶ˆè€—æ¸²æŸ“èµ„æº |
| **Animator.applyRootMotion** | æŒ‰éœ€ | ä¸éœ€è¦æ ¹éª¨éª¼ä½ç§»æ—¶å…³é—­ |
| **Animator.cullingMode** | é AlwaysAnimate | é™ä½ CPU ä½¿ç”¨ç‡ |

### 9.6 Script è„šæœ¬

| æ£€æŸ¥é¡¹ | è§„èŒƒ | è¯´æ˜ |
|-------|------|------|
| **OnGUI** | ç¦ç”¨ | å†…å­˜ä½¿ç”¨ç‡é«˜ï¼Œä»…è°ƒè¯•ç”¨ |
| **ç©ºç”Ÿå‘½å‘¨æœŸæ–¹æ³•** | åˆ é™¤ | ä¼šå¯¼è‡´æ‰å¸§ |

### 9.7 Shader ç€è‰²å™¨

| æ£€æŸ¥é¡¹ | è§„èŒƒ | è¯´æ˜ |
|-------|------|------|
| **çº¹ç†æ•°é‡** | < 3 | è¿‡å¤šä¼šå¢åŠ  GPU æ¶ˆè€— |

### 9.8 Texture çº¹ç†

| æ£€æŸ¥é¡¹ | è§„èŒƒ | è¯´æ˜ |
|-------|------|------|
| **è¯»/å†™æ ‡å¿—** | ç¦ç”¨ | åŒå€å†…å­˜å ç”¨ |
| **Mipmap (æœªå‹ç¼©)** | ç¦ç”¨ | å¢åŠ å†…å­˜å ç”¨ |
| **iOS æ ¼å¼** | ASTC | iOS æ¨è |
| **Android æ ¼å¼** | ASTC/ETC2 | Android æ¨è |
| **2 çš„å¹‚æ¬¡** | æ˜¯ | å¦åˆ™æ— æ³•ä½¿ç”¨ç¡¬ä»¶å‹ç¼© |
| **Aniso Level** | â‰¤ 1 | > 1 å¢åŠ å†…å­˜å’Œé‡‡æ ·ç‡ |
| **Filter Mode** | éTrilinear | Trilinear å ç”¨è¾ƒé«˜èµ„æº |
| **Alpha Source** | æŒ‰éœ€ | ç©º Alpha åº”ç¦ç”¨ |
| **å¡«å……ç‡** | > 0.5 | Sprite Atlas æœ‰æ•ˆé¢ç§¯å æ¯” |
| **é‡å¤çº¹ç†** | é¿å… | æµªè´¹å†…å­˜ |

### 9.9 Audio éŸ³é¢‘

| æ£€æŸ¥é¡¹ | è§„èŒƒ | è¯´æ˜ |
|-------|------|------|
| **Force To Mono** | å¯ç”¨ | ä¸éœ€è¦ç«‹ä½“å£°æ—¶èŠ‚çœå­˜å‚¨ |
| **iOS æ ¼å¼** | MP3 | iOS å¹³å°æ¨è |
| **Android æ ¼å¼** | Vorbis | Android å¹³å°æ¨è |
| **Load Type** | æŒ‰éœ€é€‰æ‹© | Streaming/DecompressOnLoad/Compressed |

### 9.10 Editor Setting ç¼–è¾‘å™¨è®¾ç½®

| æ£€æŸ¥é¡¹ | è§„èŒƒ | è¯´æ˜ |
|-------|------|------|
| **CompanyName** | é DefaultCompany | è®¾ç½®å…¬å¸åç§° |
| **Build Target Icons** | è®¾ç½® | è®¾ç½®åº”ç”¨å›¾æ ‡ |
| **GraphicsJobs** | å¼€å¯æµ‹è¯• | å›¾å½¢ä»»åŠ¡å¤šçº¿ç¨‹ (å®éªŒæ€§è´¨) |
| **BakeCollisionMeshes** | å¼€å¯ | å‡å°‘åŠ è½½/åˆå§‹åŒ–æ—¶é—´ |
| **StripEngineCode** | å¼€å¯ | å‡å°‘åŒ…ä½“ç§¯ |
| **AutoSyncTransforms** | å…³é—­ | å¢åŠ  CPU ä½¿ç”¨ï¼Œä»…å…¼å®¹è€ç‰ˆæœ¬ |
| **LayerCollisionMatrix** | æŒ‰éœ€å‹¾é€‰ | å…¨å‹¾é€‰å¢åŠ  CPU è´Ÿæ‹… |
| **StandardShaderQuality** | ç»Ÿä¸€ | å‡å°‘ç¼–è¯‘æ—¶é—´å’ŒåŒ…ä½“ç§¯ |
| **ManagedStrippingLevel** | Medium/High | Low/Disabled å¢åŠ åŒ…ä½“ç§¯ |
| **iOS Architecture** | ARM64 | Universal å¢åŠ åŒ…ä½“ç§¯ |
| **iOS AccelerometerFrequency** | Disabled | ä¸ç”¨æ—¶èŠ‚çœ CPU |
| **iOS GraphicsAPIs** | ä»… Metal | å‡å°‘åŒ…ä½“ç§¯ï¼Œæ›´å¥½ CPU è¡¨ç° |
| **Resources ç³»ç»Ÿ** | é¿å…ä½¿ç”¨ | å»¶é•¿å¯åŠ¨æ—¶é—´ï¼Œå·²è¿‡æ—¶ |

### 9.11 Mesh ç½‘æ ¼

| æ£€æŸ¥é¡¹ | è§„èŒƒ | è¯´æ˜ |
|-------|------|------|
| **Read/Write Flag** | ç¦ç”¨ | åŒå€å†…å­˜å ç”¨ |

### 9.12 Model æ¨¡å‹

| æ£€æŸ¥é¡¹ | è§„èŒƒ | è¯´æ˜ |
|-------|------|------|
| **Read/Write Flag** | ç¦ç”¨ | åŒå€å†…å­˜å ç”¨ |

### 9.13 Video è§†é¢‘

| æ£€æŸ¥é¡¹ | è§„èŒƒ | è¯´æ˜ |
|-------|------|------|
| **æ–‡ä»¶å¤§å°** | < 256MB | é»˜è®¤é˜ˆå€¼ |

---

## åã€ä¼˜åŒ–æ£€æŸ¥æ¸…å•

### 10.1 åŠ è½½ä¼˜åŒ–

- [ ] è°ƒæ•´ asyncUploadBufferSize
- [ ] è°ƒæ•´ asyncUploadTimeSlice
- [ ] è®¾ç½® BackgroundLoadingPriority
- [ ] å¼€å¯å¤šçº¿ç¨‹æ¸²æŸ“
- [ ] è°ƒæ•´èµ„æºåŠ è½½é¡ºåº (Shader ä¼˜å…ˆ)
- [ ] æ£€æŸ¥å®ä¾‹åŒ–æ“ä½œåˆç†æ€§
- [ ] æ£€æŸ¥ Active/Deactive é¢‘ç‡

### 10.2 èµ„æºè§„èŒƒ

- [ ] çº¹ç†ï¼šMax Size < 1024ï¼Œç¡¬ä»¶å‹ç¼©æ ¼å¼
- [ ] ç½‘æ ¼ï¼šMesh Compression Onï¼ŒRead/Write Off
- [ ] åŠ¨ç”»ï¼šOptimal å‹ç¼©ï¼ŒHumanoid æ¨¡å¼
- [ ] éŸ³é¢‘ï¼šStreaming èƒŒæ™¯éŸ³ä¹ï¼ŒVorbis/MP3 å‹ç¼©
- [ ] Shaderï¼šé¢„åŠ è½½å¸¸é©»ï¼ŒWarmUp
- [ ] AB åŒ…ï¼šLZ4 å‹ç¼©ï¼ŒLoadFromFile åŠ è½½

### 10.3 å†…å­˜ç®¡ç†

- [ ] å…³é—­çº¹ç† Read/Write
- [ ] å…³é—­ UI çº¹ç† Mipmap
- [ ] ä½¿ç”¨ Texture Streaming
- [ ] æ§åˆ¶ Instantiate é¢‘ç‡
- [ ] ä¼˜åŒ– Active/Deactive
- [ ] æ£€æŸ¥èµ„æºå†—ä½™
- [ ] æ£€æµ‹å†…å­˜æ³„éœ²

---

## åä¸€ã€å‚è€ƒèµ„æ–™

- [UWA - èµ„æºä¼˜åŒ–ä¸“é¢˜](https://blog.uwa4d.com/archives/Index.html)
- [Unity - Async Upload Pipeline](https://docs.unity3d.com/Manual/texture-sync-async.html)
- [Unity - Texture Streaming](https://docs.unity3d.com/Manual/TextureStreaming.html)
- [Unity - AssetBundle Compression](https://docs.unity3d.com/Manual/AssetBundleCompression.html)

---

**è½¬è½½è¯·æ³¨æ˜æ¥æº**ï¼Œæ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯ï¼Œæ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåŒºè¯„è®ºï¼Œä¹Ÿå¯ä»¥é‚®ä»¶è‡³ 1487842110@qq.com
