---
title: "Hexo åšå®¢æ­å»ºä¸å†™ä½œå®Œå…¨æŒ‡å—ï¼šä»é›¶å¼€å§‹çš„å®æˆ˜æ•™ç¨‹"
date: 2020/05/08
categories: [æŠ€æœ¯æ–‡ç« , å·¥å…·ä½¿ç”¨]
tags: [Hexo, åšå®¢, GitHub Pages, Markdown, å†™ä½œ, VSCode]
image: /images/hexo-blog-setup-and-writing-complete-guide-banner.jpg
---

# ğŸ“ Hexo åšå®¢æ­å»ºä¸å†™ä½œå®Œå…¨æŒ‡å—ï¼šä»é›¶å¼€å§‹çš„å®æˆ˜æ•™ç¨‹

> ğŸ’¡ **æƒ³æ‹¥æœ‰è‡ªå·±çš„æŠ€æœ¯åšå®¢å—ï¼Ÿ**
> - å¦‚ä½•ä»é›¶æ­å»ºä¸€ä¸ªå…è´¹çš„æŠ€æœ¯åšå®¢ï¼Ÿ
> - å¦‚ä½•é«˜æ•ˆåœ°ç¼–å†™å’Œç®¡ç† Markdown æ–‡ç« ï¼Ÿ
> - å¦‚ä½•å®ç°ä¸€é”®éƒ¨ç½²åˆ° GitHub Pagesï¼Ÿ
> - å¦‚ä½•åœ¨åšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼Ÿ
>
> **å®Œå…¨æ•™ç¨‹**ï¼æ‰‹æŠŠæ‰‹æ•™ä½ æ­å»º Hexo åšå®¢ï¼Œå¼€å§‹ä½ çš„æŠ€æœ¯å†™ä½œä¹‹æ—…ï¼

---
- 1:ä½¿ç”¨ vscode æ‰“å¼€ xinzhuzi.github.io
- 2:ç»ˆç«¯æ‰“å¼€, ```
cd xinzhuzi.github.io
```
- 3:å¼€å§‹å†™æ–‡ç« ,```
hexo new æ–‡ç« åå­—
```
- 4:å†™å®Œä¹‹åè¾“å…¥```
hexo clean
hexo g
```
- 5:ä½¿ç”¨ Github Desktop ä¸Šä¼ åˆ° GitHub ç½‘ç«™

ä»“åº“åœ°å€
- [https://github.com/xinzhuzi/xinzhuzi.github.io](https://github.com/xinzhuzi/xinzhuzi.github.io)
[https://github.com/xinzhuzi/Record](https://github.com/xinzhuzi/Record) hexo é¡¹ç›®åœ°å€æ­å»ºåšå®¢
- [https://www.jianshu.com/p/83b3b7d4e649](https://www.jianshu.com/p/83b3b7d4e649)

ä¸»é¢˜
- [https://github.com/xinzhuzi/hexo-theme-3-hexo](https://github.com/xinzhuzi/hexo-theme-3-hexo)

HEXOæ’å…¥å›¾ç‰‡ï¼ˆè¯¦ç»†ç‰ˆï¼‰[https://www.jianshu.com/p/f72aaad7b852](https://www.jianshu.com/p/f72aaad7b852)

- ç¬¬ä¸€æ­¥ï¼šå®‰è£…æ’ä»¶ï¼Œåœ¨hexoæ ¹ç›®å½•æ‰“å¼€Git Bash,æ‰§è¡Œ   

```
    npm install hexo-asset-image --save
```
ç¬¬äºŒæ­¥ï¼šæ‰“å¼€hexoçš„é…ç½®æ–‡ä»¶_config.yml
æ‰¾åˆ° post_asset_folderï¼ŒæŠŠè¿™ä¸ªé€‰é¡¹ä»falseæ”¹æˆtrue
ç¬¬ä¸‰æ­¥ï¼šæ‰“å¼€
/node_modules/hexo-asset-image/index.js
å°†å†…å®¹æ›´æ¢ä¸ºä¸‹é¢çš„ä»£ç 
ï¼ˆåœ¨æ­¤æ„Ÿè°¢Ericam_ å¤§ç¥ï¼š[https://blog.csdn.net/xjm850552586ï¼‰](https://blog.csdn.net/xjm850552586ï¼‰)    

```
        'use strict';
        var cheerio = require('cheerio');

        // http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-string        
        function getPosition(str, m, i) {
        return str.split(m, i).join(m).length;
        }

        var version = String(hexo.version).split('.');
        hexo.extend.filter.register('after_post_render', function(data){
        var config = hexo.config;
        if(config.post_asset_folder){
                var link = data.permalink;
            if(version.length > 0 && Number(version[0]) == 3)
            var beginPos = getPosition(link, '/', 1) + 1;
            else
            var beginPos = getPosition(link, '/', 3) + 1;
            // In hexo 3.1.1, the permalink of "about" page is like ".../about/index.html".     
            var endPos = link.lastIndexOf('/') + 1;
            link = link.substring(beginPos, endPos);

            var toprocess = ['excerpt', 'more', 'content'];
            for(var i = 0; i < toprocess.length; i++){
            var key = toprocess[i];

            var $ = cheerio.load(data[key], {
                ignoreWhitespace: false,
                xmlMode: false,
                lowerCaseTags: false,
                decodeEntities: false
            });

            $('img').each(function(){
                if ($(this).attr('src')){
                    // For windows style path, we replace '\' to '/'.
                    var src = $(this).attr('src').replace('\', '/');
                    if(!/http[s]*.*|\/\/.*/.test(src) &&
                    !/^\s*\//.test(src)) {
                    // For "about" page, the first part of "src" can't be removed.
                    // In addition, to support multi-level local directory.
                    var linkArray = link.split('/').filter(function(elem){
                        return elem != '';
                    });
                    var srcArray = src.split('/').filter(function(elem){
                        return elem != '' && elem != '.';
                    });
                    if(srcArray.length > 1)
                        srcArray.shift();
                    src = srcArray.join('/');
                    $(this).attr('src', config.root + link + src);
                    console.info&&console.info("update link as:-->"+config.root + link + src);
                    }
                }else{
                    console.info&&console.info("no src attr, skipped...");
                    console.info&&console.info($(this));
                }
            });
            data[key] = $.html();
            }
        }
        });         

```
ç¬¬å››æ­¥ï¼šç°åœ¨å°±å¯ä»¥æ’å…¥å›¾ç‰‡äº†ï¼Œæ¯”å¦‚hexo new post photoä¹‹å
å°±åœ¨source/_postsç”Ÿæˆphoto.mdæ–‡ä»¶å’Œphotoæ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬æŠŠè¦æ’å…¥çš„å›¾ç‰‡å¤åˆ¶åˆ°photoæ–‡ä»¶å¤¹å†…ï¼Œ
åœ¨photo.mdæ–‡ä»¶é‡Œé¢æŒ‰markdownçš„æ ‡å‡†å†™,ï¼ˆæˆ‘çš„æ–‡ä»¶åæ˜¯head.jpegï¼‰æ¯”å¦‚

```
    ![è¿™æ˜¯ä»£æ›¿å›¾ç‰‡çš„æ–‡å­—ï¼Œéšä¾¿å†™](head.jpeg)
```ç„¶åå°±â€¦â€¦å®Œäº‹äº†ã€‚
å‚è€ƒé“¾æ¥ï¼š
[https://blog.csdn.net/xjm850552586/article/details/84101345](https://blog.csdn.net/xjm850552586/article/details/84101345)
[https://blog.csdn.net/qq_38148394/article/details/79997971](https://blog.csdn.net/qq_38148394/article/details/79997971)

      
        è½¬è½½è¯·æ³¨æ˜æ¥æºï¼Œæ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯ï¼Œæ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåŒºè¯„è®ºï¼Œä¹Ÿå¯ä»¥é‚®ä»¶è‡³ 1487842110@qq.com
